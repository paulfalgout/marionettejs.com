<html>
  <head>
    <title>marionette.application - Marionette.js Docs</title>
    <link rel="stylesheet" href="../../styles/docs.css">
  </head>
  <body>
    <div class="docs">
      <div class="docs__sidebar">
        <select id="version-dropdown">
          
            
              <option value="v2.3.0">v2.3.0</option>
            
          
            
              <option value="v2.3.0-pre">v2.3.0-pre</option>
            
          
            
              <option value="v2.2.2">v2.2.2</option>
            
          
            
              <option value="v2.2.1">v2.2.1</option>
            
          
            
              <option value="v2.2.0">v2.2.0</option>
            
          
            
              <option value="v2.2.0-pre.2">v2.2.0-pre.2</option>
            
          
            
              <option value="v2.2.0-pre">v2.2.0-pre</option>
            
          
            
              <option value="v2.1.0">v2.1.0</option>
            
          
            
              <option value="v2.1.0-pre">v2.1.0-pre</option>
            
          
            
              <option value="v2.0.3">v2.0.3</option>
            
          
            
              <option value="v2.0.2">v2.0.2</option>
            
          
            
              <option value="v2.0.1">v2.0.1</option>
            
          
            
              <option value="v2.0.0">v2.0.0</option>
            
          
            
              <option value="v2.0.0-pre.2">v2.0.0-pre.2</option>
            
          
            
              <option value="v2.0.0-pre.1">v2.0.0-pre.1</option>
            
          
            
              <option value="v1.8.8">v1.8.8</option>
            
          
            
              <option value="v1.8.7" selected="selected">v1.8.7</option>
            
          
            
              <option value="v1.8.6">v1.8.6</option>
            
          
            
              <option value="v1.8.5">v1.8.5</option>
            
          
            
              <option value="v1.8.4">v1.8.4</option>
            
          
            
              <option value="v1.8.3">v1.8.3</option>
            
          
            
              <option value="v1.8.2">v1.8.2</option>
            
          
            
              <option value="v1.8.1">v1.8.1</option>
            
          
            
              <option value="v1.8.0">v1.8.0</option>
            
          
            
              <option value="v1.7.4">v1.7.4</option>
            
          
            
              <option value="v1.7.3">v1.7.3</option>
            
          
            
              <option value="v1.7.2">v1.7.2</option>
            
          
            
              <option value="v1.7.1">v1.7.1</option>
            
          
            
              <option value="v1.7">v1.7</option>
            
          
            
              <option value="v1.6.4">v1.6.4</option>
            
          
            
              <option value="v1.6.3">v1.6.3</option>
            
          
            
              <option value="v1.6.2">v1.6.2</option>
            
          
            
              <option value="v1.6.1">v1.6.1</option>
            
          
            
              <option value="v1.6.0">v1.6.0</option>
            
          
            
              <option value="v1.5.1">v1.5.1</option>
            
          
            
              <option value="v1.5.0">v1.5.0</option>
            
          
            
              <option value="v1.4.1">v1.4.1</option>
            
          
            
              <option value="v1.4.0">v1.4.0</option>
            
          
            
              <option value="v1.4.0beta">v1.4.0beta</option>
            
          
            
              <option value="v1.3.0">v1.3.0</option>
            
          
            
              <option value="v1.2.3">v1.2.3</option>
            
          
            
              <option value="v1.2.2">v1.2.2</option>
            
          
            
              <option value="v1.2.1">v1.2.1</option>
            
          
            
              <option value="v1.2.0">v1.2.0</option>
            
          
            
              <option value="v1.1.0">v1.1.0</option>
            
          
            
              <option value="v1.0.4">v1.0.4</option>
            
          
            
              <option value="v1.0.3">v1.0.3</option>
            
          
            
              <option value="v1.0.2">v1.0.2</option>
            
          
            
              <option value="v1.0.1">v1.0.1</option>
            
          
            
              <option value="v1.0.0">v1.0.0</option>
            
          
            
              <option value="v1.0.0-rc6">v1.0.0-rc6</option>
            
          
            
              <option value="v1.0.0-rc5">v1.0.0-rc5</option>
            
          
            
              <option value="v1.0.0-rc4">v1.0.0-rc4</option>
            
          
            
              <option value="v1.0.0-rc3">v1.0.0-rc3</option>
            
          
            
              <option value="v1.0.0-rc2">v1.0.0-rc2</option>
            
          
            
              <option value="v1.0.0-rc1">v1.0.0-rc1</option>
            
          
            
              <option value="v1.0.0-beta6">v1.0.0-beta6</option>
            
          
            
              <option value="v1.0.0-beta5">v1.0.0-beta5</option>
            
          
            
              <option value="v1.0.0-beta4">v1.0.0-beta4</option>
            
          
            
              <option value="v1.0.0-beta3">v1.0.0-beta3</option>
            
          
            
              <option value="v1.0.0-beta2">v1.0.0-beta2</option>
            
          
            
              <option value="v1.0.0-beta1">v1.0.0-beta1</option>
            
          
            
              <option value="v0.10.2">v0.10.2</option>
            
          
            
              <option value="v0.10.1">v0.10.1</option>
            
          
            
              <option value="v0.10.0">v0.10.0</option>
            
          
            
              <option value="v0.9.13">v0.9.13</option>
            
          
            
              <option value="v0.9.12">v0.9.12</option>
            
          
            
              <option value="v0.9.11">v0.9.11</option>
            
          
            
              <option value="v0.9.10">v0.9.10</option>
            
          
            
              <option value="v0.9.9">v0.9.9</option>
            
          
            
              <option value="v0.9.8">v0.9.8</option>
            
          
            
              <option value="v0.9.7">v0.9.7</option>
            
          
            
              <option value="v0.9.6">v0.9.6</option>
            
          
            
              <option value="v0.9.5">v0.9.5</option>
            
          
            
              <option value="v0.9.4">v0.9.4</option>
            
          
            
              <option value="v0.9.3">v0.9.3</option>
            
          
            
              <option value="v0.9.2">v0.9.2</option>
            
          
            
              <option value="v0.9.1">v0.9.1</option>
            
          
            
              <option value="v0.9.0">v0.9.0</option>
            
          
            
              <option value="v0.8.4">v0.8.4</option>
            
          
            
              <option value="v0.8.3">v0.8.3</option>
            
          
            
              <option value="v0.8.2">v0.8.2</option>
            
          
            
              <option value="v0.8.1">v0.8.1</option>
            
          
            
              <option value="v0.8.0">v0.8.0</option>
            
          
            
              <option value="v0.7.6">v0.7.6</option>
            
          
            
              <option value="v0.7.5">v0.7.5</option>
            
          
            
              <option value="v0.7.4">v0.7.4</option>
            
          
            
              <option value="v0.7.3">v0.7.3</option>
            
          
            
              <option value="v0.7.2">v0.7.2</option>
            
          
            
              <option value="v0.7.1">v0.7.1</option>
            
          
            
              <option value="v0.7.0">v0.7.0</option>
            
          
            
              <option value="v0.6.3">v0.6.3</option>
            
          
            
              <option value="v0.6.2">v0.6.2</option>
            
          
            
              <option value="v0.6.1">v0.6.1</option>
            
          
            
              <option value="v0.6.0">v0.6.0</option>
            
          
            
              <option value="v0.5.2">v0.5.2</option>
            
          
            
              <option value="v0.5.1">v0.5.1</option>
            
          
            
              <option value="v0.5.0">v0.5.0</option>
            
          
            
              <option value="v0.4.8">v0.4.8</option>
            
          
            
              <option value="v0.4.7">v0.4.7</option>
            
          
            
              <option value="v0.4.6">v0.4.6</option>
            
          
            
              <option value="v0.4.5">v0.4.5</option>
            
          
            
              <option value="v0.4.4">v0.4.4</option>
            
          
            
              <option value="v0.4.3">v0.4.3</option>
            
          
            
              <option value="v0.4.2">v0.4.2</option>
            
          
            
              <option value="v0.4.1">v0.4.1</option>
            
          
            
              <option value="v0.4.1a">v0.4.1a</option>
            
          
            
              <option value="v0.4.0">v0.4.0</option>
            
          
            
              <option value="v0.3.1">v0.3.1</option>
            
          
            
              <option value="v0.3.0">v0.3.0</option>
            
          
            
              <option value="v0.2.6">v0.2.6</option>
            
          
            
              <option value="v0.2.5">v0.2.5</option>
            
          
            
              <option value="v0.2.4">v0.2.4</option>
            
          
            
              <option value="v0.2.3">v0.2.3</option>
            
          
            
              <option value="v0.2.2">v0.2.2</option>
            
          
            
              <option value="v0.2.1">v0.2.1</option>
            
          
            
              <option value="v0.2.0">v0.2.0</option>
            
          
            
              <option value="v0.1.0">v0.1.0</option>
            
          
        </select>
        <nav>
          
            <a href="marionette.application.html">marionette.application</a>
          
            <a href="marionette.application.module.html">marionette.application.module</a>
          
            <a href="marionette.approuter.html">marionette.approuter</a>
          
            <a href="marionette.behavior.html">marionette.behavior</a>
          
            <a href="marionette.behaviors.html">marionette.behaviors</a>
          
            <a href="marionette.callbacks.html">marionette.callbacks</a>
          
            <a href="marionette.collectionview.html">marionette.collectionview</a>
          
            <a href="marionette.compositeview.html">marionette.compositeview</a>
          
            <a href="marionette.configuration.html">marionette.configuration</a>
          
            <a href="marionette.controller.html">marionette.controller</a>
          
            <a href="marionette.functions.html">marionette.functions</a>
          
            <a href="marionette.itemview.html">marionette.itemview</a>
          
            <a href="marionette.layout.html">marionette.layout</a>
          
            <a href="marionette.region.html">marionette.region</a>
          
            <a href="marionette.regionmanager.html">marionette.regionmanager</a>
          
            <a href="marionette.renderer.html">marionette.renderer</a>
          
            <a href="marionette.templatecache.html">marionette.templatecache</a>
          
            <a href="marionette.view.html">marionette.view</a>
          
        </nav>
      </div>
      <div class="docs__content">
        <h1>Marionette.Application</h1>
<p>The <code>Backbone.Marionette.Application</code> object is the hub of your composite<br />application. It organizes, initializes and coordinates the various pieces of your<br />app. It also provides a starting point for you to call into from your HTML<br />script block, or directly from your JavaScript files if you prefer to go that<br />route.</p><p>The <code>Application</code> is meant to be instantiated directly, although you can extend<br />it to add your own functionality.</p><pre><code class="lang-js">MyApp = <span class="hljs-keyword">new</span> Backbone.Marionette.Application();
</code></pre>
<h2>Documentation Index</h2>
<ul>
<li><a href="#adding-initializers">Adding Initializers</a></li>
<li><a href="#application-event">Application Event</a></li>
<li><a href="#starting-an-application">Starting An Application</a></li>
<li><a href="#messaging-systems">Messaging Systems</a><ul>
<li><a href="#event-aggregator">Event Aggregator</a></li>
<li><a href="#request-response">Request Response</a></li>
<li><a href="#commands">Commands</a></li>
</ul>
</li>
<li><a href="#regions-and-the-application-object">Regions And The Application Object</a><ul>
<li><a href="#jquery-selector">jQuery Selector</a></li>
<li><a href="#custom-region-type">Custom Region Type</a></li>
<li><a href="#custom-region-type-and-selector">Custom Region Type And Selector</a></li>
<li><a href="#get-region-by-name">Get Region By Name</a></li>
<li><a href="#removing-regions">Removing Regions</a></li>
</ul>
</li>
</ul>
<h2>Adding Initializers</h2>
<p>Your application needs to do useful things, like displaying content in your<br />regions, starting up your routers, and more. To accomplish these tasks and<br />ensure that your <code>Application</code> is fully configured, you can add initializer<br />callbacks to the application.</p><pre><code class="lang-js">MyApp.addInitializer(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(options)</span></span>{
  <span class="hljs-comment">// do useful stuff here</span>
  <span class="hljs-keyword">var</span> myView = <span class="hljs-keyword">new</span> MyView({
    model: options.someModel
  });
  MyApp.mainRegion.show(myView);
});

MyApp.addInitializer(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(options)</span></span>{
  <span class="hljs-keyword">new</span> MyAppRouter();
  Backbone.history.start();
});
</code></pre>
<p>These callbacks will be executed when you start your application,<br />and are bound to the application object as the context for<br />the callback. In other words, <code>this</code> is the <code>MyApp</code> object inside<br />of the initializer function.</p><p>The <code>options</code> argument is passed from the <code>start</code> method (see below).</p><p>Initializer callbacks are guaranteed to run, no matter when you<br />add them to the app object. If you add them before the app is<br />started, they will run when the <code>start</code> method is called. If you<br />add them after the app is started, they will run immediately.</p><h2>Application Event</h2>
<p>The <code>Application</code> object raises a few events during its lifecycle, using the<br /><a href="./marionette.functions.md">Marionette.triggerMethod</a> function. These events<br />can be used to do additional processing of your application. For example, you<br />may want to pre-process some data just before initialization happens. Or you may<br />want to wait until your entire application is initialized to start<br /><code>Backbone.history</code>.</p><p>The events that are currently triggered, are:</p><ul>
<li><strong>&quot;initialize:before&quot; / <code>onInitializeBefore</code></strong>: fired just before the initializers kick off</li>
<li><strong>&quot;initialize:after&quot; / <code>onInitializeAfter</code></strong>: fires just after the initializers have finished</li>
<li><strong>&quot;start&quot; / <code>onStart</code></strong>: fires after all initializers and after the initializer events</li>
</ul>
<pre><code class="lang-js">MyApp.on(<span class="hljs-string">"initialize:before"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(options)</span></span>{
  options.moreData = <span class="hljs-string">"Yo dawg, I heard you like options so I put some options in your options!"</span>
});

MyApp.on(<span class="hljs-string">"initialize:after"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(options)</span></span>{
  <span class="hljs-keyword">if</span> (Backbone.history){
    Backbone.history.start();
  }
});
</code></pre>
<p>The <code>options</code> parameter is passed through the <code>start</code> method of the application<br />object (see below).</p><h2>Starting An Application</h2>
<p>Once you have your application configured, you can kick everything off by<br />calling: <code>MyApp.start(options)</code>.</p><p>This function takes a single optional parameter. This parameter will be passed<br />to each of your initializer functions, as well as the initialize events. This<br />allows you to provide extra configuration for various parts of your app throughout the<br />initialization sequence.</p><pre><code class="lang-js"><span class="hljs-keyword">var</span> options = {
  something: <span class="hljs-string">"some value"</span>,
  another: <span class="hljs-string">"#some-selector"</span>
};

MyApp.start(options);
</code></pre>
<h2>Messaging Systems</h2>
<p>Application instances have an instance of all three <a href="http://en.wikipedia.org/wiki/Message_passing">messaging systems</a> of <code>Backbone.Wreqr</code> attached to them. This<br />section will give a brief overview of the systems; for a more in-depth look you are encouraged to read<br />the <a href="https://github.com/marionettejs/backbone.wreqr"><code>Backbone.Wreqr</code> documentation</a>.</p><h3>Event Aggregator</h3>
<p>The Event Aggregator is available through the <code>vent</code> property. <code>vent</code> is convenient for passively sharing information between<br />pieces of your application as events occur.</p><pre><code class="lang-js">MyApp = <span class="hljs-keyword">new</span> Backbone.Marionette.Application();

<span class="hljs-comment">// Alert the user on the 'minutePassed' event</span>
MyApp.vent.on(<span class="hljs-string">"minutePassed"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(someData)</span></span>{
  alert(<span class="hljs-string">"Received"</span>, someData);
});

<span class="hljs-comment">// This will emit an event with the value of window.someData every minute</span>
<span class="hljs-built_in">window</span>.setInterval(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
  MyApp.vent.trigger(<span class="hljs-string">"minutePassed"</span>, <span class="hljs-built_in">window</span>.someData);
}, <span class="hljs-number">1000</span> * <span class="hljs-number">60</span>);
</code></pre>
<h3>Request Response</h3>
<p>Request Response is a means for any component to request information from another component without being tightly coupled. An instance of Request Response is available on the Application as the <code>reqres</code> property.</p><pre><code class="lang-js">MyApp = <span class="hljs-keyword">new</span> Backbone.Marionette.Application();

<span class="hljs-comment">// Set up a handler to return a todoList based on type</span>
MyApp.reqres.setHandler(<span class="hljs-string">"todoList"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(type)</span></span>{
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.todoLists[type];
});

<span class="hljs-comment">// Make the request to get the grocery list</span>
<span class="hljs-keyword">var</span> groceryList = MyApp.reqres.request(<span class="hljs-string">"todoList"</span>, <span class="hljs-string">"groceries"</span>);

<span class="hljs-comment">// The request method can also be accessed directly from the application object</span>
<span class="hljs-keyword">var</span> groceryList = MyApp.request(<span class="hljs-string">"todoList"</span>, <span class="hljs-string">"groceries"</span>);
</code></pre>
<h3>Commands</h3>
<p>Commands are used to make any component tell another component to perform an action without a direct reference to it. A Commands instance is available under the <code>commands</code> property of the Application.</p><p>Note that the callback of a command is not meant to return a value.</p><pre><code class="lang-js">MyApp = <span class="hljs-keyword">new</span> Backbone.Marionette.Application();

MyApp.model = <span class="hljs-keyword">new</span> Backbone.Model();

<span class="hljs-comment">// Set up the handler to call fetch on the model</span>
MyApp.commands.setHandler(<span class="hljs-string">"fetchData"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(reset)</span></span>{
  MyApp.model.fetch({reset: reset});
});

<span class="hljs-comment">// Order that the data be fetched</span>
MyApp.commands.execute(<span class="hljs-string">"fetchData"</span>, <span class="hljs-literal">true</span>);

<span class="hljs-comment">// The execute function is also available directly from the application</span>
MyApp.execute(<span class="hljs-string">"fetchData"</span>, <span class="hljs-literal">true</span>);
</code></pre>
<h2>Regions And The Application Object</h2>
<p>Marionette&#39;s <code>Region</code> objects can be directly added to an application by<br />calling the <code>addRegions</code> method.</p><p>There are three syntax forms for adding a region to an application object.</p><h3>jQuery Selector</h3>
<p>The first is to specify a jQuery selector as the value of the region<br />definition. This will create an instance of a Marionette.Region directly,<br />and assign it to the selector:</p><pre><code class="lang-js">MyApp.addRegions({
  someRegion: <span class="hljs-string">"#some-div"</span>,
  anotherRegion: <span class="hljs-string">"#another-div"</span>
});
</code></pre>
<h3>Custom Region Type</h3>
<p>The second is to specify a custom region type, where the region type has<br />already specified a selector:</p><pre><code class="lang-js">MyCustomRegion = Marionette.Region.extend({
  el: <span class="hljs-string">"#foo"</span>
});

MyApp.addRegions({
  someRegion: MyCustomRegion
});
</code></pre>
<h3>Custom Region Type And Selector</h3>
<p>The third method is to specify a custom region type, and a jQuery selector<br />for this region instance, using an object literal:</p><pre><code class="lang-js">MyCustomRegion = Marionette.Region.extend({});

MyApp.addRegions({

  someRegion: {
    selector: <span class="hljs-string">"#foo"</span>,
    regionType: MyCustomRegion
  },

  anotherRegion: {
    selector: <span class="hljs-string">"#bar"</span>,
    regionType: MyCustomRegion
  }

});
</code></pre>
<h3>Get Region By Name</h3>
<p>A region can be retrieved by name, using the <code>getRegion</code> method:</p><pre><code class="lang-js"><span class="hljs-keyword">var</span> app = <span class="hljs-keyword">new</span> Marionette.Application();
app.addRegions({ r1: <span class="hljs-string">"#region1"</span> });

<span class="hljs-comment">// r1 === r1Again; true</span>
<span class="hljs-keyword">var</span> r1 = app.getRegion(<span class="hljs-string">"r1"</span>);
<span class="hljs-keyword">var</span> r1Again = app.r1;
</code></pre>
<p>Accessing a region by named attribute is equivalent to accessing<br />it from the <code>getRegion</code> method.</p><h3>Removing Regions</h3>
<p>Regions can also be removed with the <code>removeRegion</code> method, passing in<br />the name of the region to remove as a string value:</p><pre><code class="lang-js">MyApp.removeRegion(<span class="hljs-string">'someRegion'</span>);
</code></pre>
<p>Removing a region will properly close it before removing it from the<br />application object.</p><p>For more information on regions, see <a href="./marionette.region.md">the region documentation</a></p>
      </div>
    </div>
  </body>
  <script src="../../js/docs.js" type="text/javascript"></script>
</html>

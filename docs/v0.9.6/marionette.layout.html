<html>
  <head>
    <title>marionette.layout - Marionette.js Docs</title>
    <link rel="stylesheet" href="../../styles/docs.css">
  </head>
  <body>
    <div class="docs">
      <div class="docs__sidebar">
        <select id="version-dropdown">
          
            
              <option value="v2.3.0">v2.3.0</option>
            
          
            
              <option value="v2.3.0-pre">v2.3.0-pre</option>
            
          
            
              <option value="v2.2.2">v2.2.2</option>
            
          
            
              <option value="v2.2.1">v2.2.1</option>
            
          
            
              <option value="v2.2.0">v2.2.0</option>
            
          
            
              <option value="v2.2.0-pre.2">v2.2.0-pre.2</option>
            
          
            
              <option value="v2.2.0-pre">v2.2.0-pre</option>
            
          
            
              <option value="v2.1.0">v2.1.0</option>
            
          
            
              <option value="v2.1.0-pre">v2.1.0-pre</option>
            
          
            
              <option value="v2.0.3">v2.0.3</option>
            
          
            
              <option value="v2.0.2">v2.0.2</option>
            
          
            
              <option value="v2.0.1">v2.0.1</option>
            
          
            
              <option value="v2.0.0">v2.0.0</option>
            
          
            
              <option value="v2.0.0-pre.2">v2.0.0-pre.2</option>
            
          
            
              <option value="v2.0.0-pre.1">v2.0.0-pre.1</option>
            
          
            
              <option value="v1.8.8">v1.8.8</option>
            
          
            
              <option value="v1.8.7">v1.8.7</option>
            
          
            
              <option value="v1.8.6">v1.8.6</option>
            
          
            
              <option value="v1.8.5">v1.8.5</option>
            
          
            
              <option value="v1.8.4">v1.8.4</option>
            
          
            
              <option value="v1.8.3">v1.8.3</option>
            
          
            
              <option value="v1.8.2">v1.8.2</option>
            
          
            
              <option value="v1.8.1">v1.8.1</option>
            
          
            
              <option value="v1.8.0">v1.8.0</option>
            
          
            
              <option value="v1.7.4">v1.7.4</option>
            
          
            
              <option value="v1.7.3">v1.7.3</option>
            
          
            
              <option value="v1.7.2">v1.7.2</option>
            
          
            
              <option value="v1.7.1">v1.7.1</option>
            
          
            
              <option value="v1.7">v1.7</option>
            
          
            
              <option value="v1.6.4">v1.6.4</option>
            
          
            
              <option value="v1.6.3">v1.6.3</option>
            
          
            
              <option value="v1.6.2">v1.6.2</option>
            
          
            
              <option value="v1.6.1">v1.6.1</option>
            
          
            
              <option value="v1.6.0">v1.6.0</option>
            
          
            
              <option value="v1.5.1">v1.5.1</option>
            
          
            
              <option value="v1.5.0">v1.5.0</option>
            
          
            
              <option value="v1.4.1">v1.4.1</option>
            
          
            
              <option value="v1.4.0">v1.4.0</option>
            
          
            
              <option value="v1.4.0beta">v1.4.0beta</option>
            
          
            
              <option value="v1.3.0">v1.3.0</option>
            
          
            
              <option value="v1.2.3">v1.2.3</option>
            
          
            
              <option value="v1.2.2">v1.2.2</option>
            
          
            
              <option value="v1.2.1">v1.2.1</option>
            
          
            
              <option value="v1.2.0">v1.2.0</option>
            
          
            
              <option value="v1.1.0">v1.1.0</option>
            
          
            
              <option value="v1.0.4">v1.0.4</option>
            
          
            
              <option value="v1.0.3">v1.0.3</option>
            
          
            
              <option value="v1.0.2">v1.0.2</option>
            
          
            
              <option value="v1.0.1">v1.0.1</option>
            
          
            
              <option value="v1.0.0">v1.0.0</option>
            
          
            
              <option value="v1.0.0-rc6">v1.0.0-rc6</option>
            
          
            
              <option value="v1.0.0-rc5">v1.0.0-rc5</option>
            
          
            
              <option value="v1.0.0-rc4">v1.0.0-rc4</option>
            
          
            
              <option value="v1.0.0-rc3">v1.0.0-rc3</option>
            
          
            
              <option value="v1.0.0-rc2">v1.0.0-rc2</option>
            
          
            
              <option value="v1.0.0-rc1">v1.0.0-rc1</option>
            
          
            
              <option value="v1.0.0-beta6">v1.0.0-beta6</option>
            
          
            
              <option value="v1.0.0-beta5">v1.0.0-beta5</option>
            
          
            
              <option value="v1.0.0-beta4">v1.0.0-beta4</option>
            
          
            
              <option value="v1.0.0-beta3">v1.0.0-beta3</option>
            
          
            
              <option value="v1.0.0-beta2">v1.0.0-beta2</option>
            
          
            
              <option value="v1.0.0-beta1">v1.0.0-beta1</option>
            
          
            
              <option value="v0.10.2">v0.10.2</option>
            
          
            
              <option value="v0.10.1">v0.10.1</option>
            
          
            
              <option value="v0.10.0">v0.10.0</option>
            
          
            
              <option value="v0.9.13">v0.9.13</option>
            
          
            
              <option value="v0.9.12">v0.9.12</option>
            
          
            
              <option value="v0.9.11">v0.9.11</option>
            
          
            
              <option value="v0.9.10">v0.9.10</option>
            
          
            
              <option value="v0.9.9">v0.9.9</option>
            
          
            
              <option value="v0.9.8">v0.9.8</option>
            
          
            
              <option value="v0.9.7">v0.9.7</option>
            
          
            
              <option value="v0.9.6" selected="selected">v0.9.6</option>
            
          
            
              <option value="v0.9.5">v0.9.5</option>
            
          
            
              <option value="v0.9.4">v0.9.4</option>
            
          
            
              <option value="v0.9.3">v0.9.3</option>
            
          
            
              <option value="v0.9.2">v0.9.2</option>
            
          
            
              <option value="v0.9.1">v0.9.1</option>
            
          
            
              <option value="v0.9.0">v0.9.0</option>
            
          
            
              <option value="v0.8.4">v0.8.4</option>
            
          
            
              <option value="v0.8.3">v0.8.3</option>
            
          
            
              <option value="v0.8.2">v0.8.2</option>
            
          
            
              <option value="v0.8.1">v0.8.1</option>
            
          
            
              <option value="v0.8.0">v0.8.0</option>
            
          
            
              <option value="v0.7.6">v0.7.6</option>
            
          
            
              <option value="v0.7.5">v0.7.5</option>
            
          
            
              <option value="v0.7.4">v0.7.4</option>
            
          
            
              <option value="v0.7.3">v0.7.3</option>
            
          
            
              <option value="v0.7.2">v0.7.2</option>
            
          
            
              <option value="v0.7.1">v0.7.1</option>
            
          
            
              <option value="v0.7.0">v0.7.0</option>
            
          
            
              <option value="v0.6.3">v0.6.3</option>
            
          
            
              <option value="v0.6.2">v0.6.2</option>
            
          
            
              <option value="v0.6.1">v0.6.1</option>
            
          
            
              <option value="v0.6.0">v0.6.0</option>
            
          
            
              <option value="v0.5.2">v0.5.2</option>
            
          
            
              <option value="v0.5.1">v0.5.1</option>
            
          
            
              <option value="v0.5.0">v0.5.0</option>
            
          
            
              <option value="v0.4.8">v0.4.8</option>
            
          
            
              <option value="v0.4.7">v0.4.7</option>
            
          
            
              <option value="v0.4.6">v0.4.6</option>
            
          
            
              <option value="v0.4.5">v0.4.5</option>
            
          
            
              <option value="v0.4.4">v0.4.4</option>
            
          
            
              <option value="v0.4.3">v0.4.3</option>
            
          
            
              <option value="v0.4.2">v0.4.2</option>
            
          
            
              <option value="v0.4.1">v0.4.1</option>
            
          
            
              <option value="v0.4.1a">v0.4.1a</option>
            
          
            
              <option value="v0.4.0">v0.4.0</option>
            
          
            
              <option value="v0.3.1">v0.3.1</option>
            
          
            
              <option value="v0.3.0">v0.3.0</option>
            
          
            
              <option value="v0.2.6">v0.2.6</option>
            
          
            
              <option value="v0.2.5">v0.2.5</option>
            
          
            
              <option value="v0.2.4">v0.2.4</option>
            
          
            
              <option value="v0.2.3">v0.2.3</option>
            
          
            
              <option value="v0.2.2">v0.2.2</option>
            
          
            
              <option value="v0.2.1">v0.2.1</option>
            
          
            
              <option value="v0.2.0">v0.2.0</option>
            
          
            
              <option value="v0.1.0">v0.1.0</option>
            
          
        </select>
        <nav>
          
            <a href="marionette.application.html">marionette.application</a>
          
            <a href="marionette.application.module.html">marionette.application.module</a>
          
            <a href="marionette.approuter.html">marionette.approuter</a>
          
            <a href="marionette.async.html">marionette.async</a>
          
            <a href="marionette.callbacks.html">marionette.callbacks</a>
          
            <a href="marionette.collectionview.html">marionette.collectionview</a>
          
            <a href="marionette.compositeview.html">marionette.compositeview</a>
          
            <a href="marionette.eventaggregator.html">marionette.eventaggregator</a>
          
            <a href="marionette.eventbinder.html">marionette.eventbinder</a>
          
            <a href="marionette.itemview.html">marionette.itemview</a>
          
            <a href="marionette.layout.html">marionette.layout</a>
          
            <a href="marionette.region.html">marionette.region</a>
          
            <a href="marionette.renderer.html">marionette.renderer</a>
          
            <a href="marionette.templatecache.html">marionette.templatecache</a>
          
            <a href="marionette.view.html">marionette.view</a>
          
        </nav>
      </div>
      <div class="docs__content">
        <h1>Marionette.Layout</h1>
<p>A <code>Layout</code> is a specialized hybrid between an <code>ItemView</code> and<br />a collection of <code>Region</code> objects, used for rendering an application<br />layout with multiple sub-regions to be managed by specified region managers.</p><p>A layout manager can also be used as a composite-view to aggregate multiple<br />views and sub-application areas of the screen where multiple region managers need<br />to be attached to dynamically rendered HTML.</p><p>For a more in-depth discussion on Layouts, see the blog post<br /><a href="http://lostechies.com/derickbailey/2012/03/22/managing-layouts-and-nested-views-with-backbone-marionette/">Manage Layouts And Nested Views With Backbone.Marionette</a></p><h2>Basic Usage</h2>
<p>The <code>Layout</code> extends directly from <code>ItemView</code> and adds the ability<br />to specify <code>regions</code> which become <code>Region</code> instances that are attached<br />to the layout.</p><pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-title">script</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"layout-template"</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"text/template"</span>&gt;</span><span class="javascript">
  &lt;section&gt;
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-title">navigation</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"menu"</span>&gt;</span>...<span class="hljs-tag">&lt;/<span class="hljs-title">navigation</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">article</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"content"</span>&gt;</span>...<span class="hljs-tag">&lt;/<span class="hljs-title">article</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-title">section</span>&gt;</span>
</span></span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span>
</code></pre>
<pre><code class="lang-js">AppLayout = Backbone.Marionette.Layout.extend({
  template: <span class="hljs-string">"#layout-template"</span>,

  regions: {
    menu: <span class="hljs-string">"#menu"</span>,
    content: <span class="hljs-string">"#content"</span>
  }
});

<span class="hljs-keyword">var</span> layout = <span class="hljs-keyword">new</span> AppLayout();
layout.render();
</code></pre>
<p>Once you&#39;ve rendered the layout, you now have direct access<br />to all of the specified regions as region managers.</p><pre><code class="lang-js">layout.menu.show(<span class="hljs-keyword">new</span> MenuView());

layout.content.show(<span class="hljs-keyword">new</span> MainContentView());
</code></pre>
<h2>Region Availability</h2>
<p>Any defined regions within a layout will be available to the<br />layout or any calling code immediately after instantiating the<br />layout. This allows a layout to be attached to an existing<br />DOM element in an HTML page, without the need to call a render<br />method or anything else, to create the regions.</p><p>However, a region will only be able to populate itself if the<br />layout has access to the elements specified within the region<br />definitions. That is, if your view has not yet rendered, your<br />regions may not be able to find the element that you&#39;ve<br />specified for them to manage. In that scenario, using the<br />region will result in no changes to the DOM.</p><h2>Re-Rendering A Layout</h2>
<p>A layout can be rendered as many times as needed, but renders<br />after the first one behave differently than the initial render.</p><p>The first time a layout is rendered, nothing special happens. It just<br />delegates to the <code>ItemView</code> prototype to do the render. After the<br />first render has happened, though, the render function is modified to<br />account for re-rendering with regions in the layout.</p><p>After the first render, all subsequent renders will force every<br />region to close by calling the <code>close</code> method on them. This will<br />force every view in the region, and sub-views if any, to be closed<br />as well. Once the regions have been closed, the regions will be<br />reset so that they are no longer referencing the element of the previous<br />layout render. </p><p>Then after the Layout is finished re-rendering itself,<br />showing a view in the layout&#39;s regions will cause the regions to attach<br />themselves to the new elements in the layout.</p><h3>Avoid Re-Rendering The Entire Layout</h3>
<p>There are times when re-rendering the entire layout is necessary. However,<br />due to the behavior described above, this can cause a large amount of<br />work to be needed in order to fully restore the layout and all of the<br />views that the layout is displaying.</p><p>Therefore, it is suggested that you avoid re-rendering the entire<br />layout unless absolutely necessary. Instead, if you are binding the<br />layout&#39;s template to a model and need to update portions of the layout,<br />you should listen to the model&#39;s &quot;change&quot; events and only update the<br />neccesary DOM elements.</p><h2>Nested Layouts And Views</h2>
<p>Since the <code>Layout</code> extends directly from <code>ItemView</code>, it<br />has all of the core functionality of an item view. This includes<br />the methods necessary to be shown within an existing region manager.</p><pre><code class="lang-js">MyApp = <span class="hljs-keyword">new</span> Backbone.Marionette.Application();
MyApp.addRegions({
  mainRegion: <span class="hljs-string">"#main"</span>
});

<span class="hljs-keyword">var</span> layout = <span class="hljs-keyword">new</span> AppLayout();
MyApp.mainRegion.show(layout);

layout.show(<span class="hljs-keyword">new</span> MenuView());
</code></pre>
<p>You can nest layouts into region managers as deeply as you want.<br />This provides for a well organized, nested view structure.</p><h2>Closing A Layout</h2>
<p>When you are finished with a layout, you can call the<br /><code>close</code> method on it. This will ensure that all of the region managers<br />within the layout are closed correctly, which in turn<br />ensures all of the views shown within the regions are closed correctly.</p><p>If you are showing a layout within a parent region manager, replacing<br />the layout with another view or another layout will close the current<br />one, the same it will close a view.</p><p>All of this ensures that layouts and the views that they<br />contain are cleaned up correctly.</p><h2>Custom Region Type</h2>
<p>If you have the need to replace the <code>Region</code> with a region class of<br />your own implementation, you can specify an alternate class to use<br />with the <code>regionType</code> propery of the <code>Layout</code>.</p><pre><code class="lang-js">MyLayout = Backbone.Marionette.Layout.extend({
  regionType: SomeCustomRegion 
});
</code></pre>
<p>You can also specify custom <code>Region</code> classes for each <code>region</code>:</p><pre><code class="lang-js">AppLayout = Backbone.Marionette.Layout.extend({
  template: <span class="hljs-string">"#layout-template"</span>,

  regionType: SomeDefaultCustomRegion,

  regions: {
    menu: {
      selector: <span class="hljs-string">"#menu"</span>,
      regionType: CustomRegionTypeReference
    },
    content: {
      selector: <span class="hljs-string">"#content"</span>,
      regionType: CustomRegionType2Reference
    }
  }
});
</code></pre>

      </div>
    </div>
  </body>
  <script src="../../js/docs.js" type="text/javascript"></script>
</html>

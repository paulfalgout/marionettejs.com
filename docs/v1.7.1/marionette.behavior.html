<html>
  <head>
    <title>marionette.behavior - Marionette.js Docs</title>
    <link rel="stylesheet" href="../../styles/docs.css">
  </head>
  <body>
    <div class="docs">
      <div class="docs__sidebar">
        <select id="version-dropdown">
          
            
              <option value="v2.3.0">v2.3.0</option>
            
          
            
              <option value="v2.3.0-pre">v2.3.0-pre</option>
            
          
            
              <option value="v2.2.2">v2.2.2</option>
            
          
            
              <option value="v2.2.1">v2.2.1</option>
            
          
            
              <option value="v2.2.0">v2.2.0</option>
            
          
            
              <option value="v2.2.0-pre.2">v2.2.0-pre.2</option>
            
          
            
              <option value="v2.2.0-pre">v2.2.0-pre</option>
            
          
            
              <option value="v2.1.0">v2.1.0</option>
            
          
            
              <option value="v2.1.0-pre">v2.1.0-pre</option>
            
          
            
              <option value="v2.0.3">v2.0.3</option>
            
          
            
              <option value="v2.0.2">v2.0.2</option>
            
          
            
              <option value="v2.0.1">v2.0.1</option>
            
          
            
              <option value="v2.0.0">v2.0.0</option>
            
          
            
              <option value="v2.0.0-pre.2">v2.0.0-pre.2</option>
            
          
            
              <option value="v2.0.0-pre.1">v2.0.0-pre.1</option>
            
          
            
              <option value="v1.8.8">v1.8.8</option>
            
          
            
              <option value="v1.8.7">v1.8.7</option>
            
          
            
              <option value="v1.8.6">v1.8.6</option>
            
          
            
              <option value="v1.8.5">v1.8.5</option>
            
          
            
              <option value="v1.8.4">v1.8.4</option>
            
          
            
              <option value="v1.8.3">v1.8.3</option>
            
          
            
              <option value="v1.8.2">v1.8.2</option>
            
          
            
              <option value="v1.8.1">v1.8.1</option>
            
          
            
              <option value="v1.8.0">v1.8.0</option>
            
          
            
              <option value="v1.7.4">v1.7.4</option>
            
          
            
              <option value="v1.7.3">v1.7.3</option>
            
          
            
              <option value="v1.7.2">v1.7.2</option>
            
          
            
              <option value="v1.7.1" selected="selected">v1.7.1</option>
            
          
            
              <option value="v1.7">v1.7</option>
            
          
            
              <option value="v1.6.4">v1.6.4</option>
            
          
            
              <option value="v1.6.3">v1.6.3</option>
            
          
            
              <option value="v1.6.2">v1.6.2</option>
            
          
            
              <option value="v1.6.1">v1.6.1</option>
            
          
            
              <option value="v1.6.0">v1.6.0</option>
            
          
            
              <option value="v1.5.1">v1.5.1</option>
            
          
            
              <option value="v1.5.0">v1.5.0</option>
            
          
            
              <option value="v1.4.1">v1.4.1</option>
            
          
            
              <option value="v1.4.0">v1.4.0</option>
            
          
            
              <option value="v1.4.0beta">v1.4.0beta</option>
            
          
            
              <option value="v1.3.0">v1.3.0</option>
            
          
            
              <option value="v1.2.3">v1.2.3</option>
            
          
            
              <option value="v1.2.2">v1.2.2</option>
            
          
            
              <option value="v1.2.1">v1.2.1</option>
            
          
            
              <option value="v1.2.0">v1.2.0</option>
            
          
            
              <option value="v1.1.0">v1.1.0</option>
            
          
            
              <option value="v1.0.4">v1.0.4</option>
            
          
            
              <option value="v1.0.3">v1.0.3</option>
            
          
            
              <option value="v1.0.2">v1.0.2</option>
            
          
            
              <option value="v1.0.1">v1.0.1</option>
            
          
            
              <option value="v1.0.0">v1.0.0</option>
            
          
            
              <option value="v1.0.0-rc6">v1.0.0-rc6</option>
            
          
            
              <option value="v1.0.0-rc5">v1.0.0-rc5</option>
            
          
            
              <option value="v1.0.0-rc4">v1.0.0-rc4</option>
            
          
            
              <option value="v1.0.0-rc3">v1.0.0-rc3</option>
            
          
            
              <option value="v1.0.0-rc2">v1.0.0-rc2</option>
            
          
            
              <option value="v1.0.0-rc1">v1.0.0-rc1</option>
            
          
            
              <option value="v1.0.0-beta6">v1.0.0-beta6</option>
            
          
            
              <option value="v1.0.0-beta5">v1.0.0-beta5</option>
            
          
            
              <option value="v1.0.0-beta4">v1.0.0-beta4</option>
            
          
            
              <option value="v1.0.0-beta3">v1.0.0-beta3</option>
            
          
            
              <option value="v1.0.0-beta2">v1.0.0-beta2</option>
            
          
            
              <option value="v1.0.0-beta1">v1.0.0-beta1</option>
            
          
            
              <option value="v0.10.2">v0.10.2</option>
            
          
            
              <option value="v0.10.1">v0.10.1</option>
            
          
            
              <option value="v0.10.0">v0.10.0</option>
            
          
            
              <option value="v0.9.13">v0.9.13</option>
            
          
            
              <option value="v0.9.12">v0.9.12</option>
            
          
            
              <option value="v0.9.11">v0.9.11</option>
            
          
            
              <option value="v0.9.10">v0.9.10</option>
            
          
            
              <option value="v0.9.9">v0.9.9</option>
            
          
            
              <option value="v0.9.8">v0.9.8</option>
            
          
            
              <option value="v0.9.7">v0.9.7</option>
            
          
            
              <option value="v0.9.6">v0.9.6</option>
            
          
            
              <option value="v0.9.5">v0.9.5</option>
            
          
            
              <option value="v0.9.4">v0.9.4</option>
            
          
            
              <option value="v0.9.3">v0.9.3</option>
            
          
            
              <option value="v0.9.2">v0.9.2</option>
            
          
            
              <option value="v0.9.1">v0.9.1</option>
            
          
            
              <option value="v0.9.0">v0.9.0</option>
            
          
            
              <option value="v0.8.4">v0.8.4</option>
            
          
            
              <option value="v0.8.3">v0.8.3</option>
            
          
            
              <option value="v0.8.2">v0.8.2</option>
            
          
            
              <option value="v0.8.1">v0.8.1</option>
            
          
            
              <option value="v0.8.0">v0.8.0</option>
            
          
            
              <option value="v0.7.6">v0.7.6</option>
            
          
            
              <option value="v0.7.5">v0.7.5</option>
            
          
            
              <option value="v0.7.4">v0.7.4</option>
            
          
            
              <option value="v0.7.3">v0.7.3</option>
            
          
            
              <option value="v0.7.2">v0.7.2</option>
            
          
            
              <option value="v0.7.1">v0.7.1</option>
            
          
            
              <option value="v0.7.0">v0.7.0</option>
            
          
            
              <option value="v0.6.3">v0.6.3</option>
            
          
            
              <option value="v0.6.2">v0.6.2</option>
            
          
            
              <option value="v0.6.1">v0.6.1</option>
            
          
            
              <option value="v0.6.0">v0.6.0</option>
            
          
            
              <option value="v0.5.2">v0.5.2</option>
            
          
            
              <option value="v0.5.1">v0.5.1</option>
            
          
            
              <option value="v0.5.0">v0.5.0</option>
            
          
            
              <option value="v0.4.8">v0.4.8</option>
            
          
            
              <option value="v0.4.7">v0.4.7</option>
            
          
            
              <option value="v0.4.6">v0.4.6</option>
            
          
            
              <option value="v0.4.5">v0.4.5</option>
            
          
            
              <option value="v0.4.4">v0.4.4</option>
            
          
            
              <option value="v0.4.3">v0.4.3</option>
            
          
            
              <option value="v0.4.2">v0.4.2</option>
            
          
            
              <option value="v0.4.1">v0.4.1</option>
            
          
            
              <option value="v0.4.1a">v0.4.1a</option>
            
          
            
              <option value="v0.4.0">v0.4.0</option>
            
          
            
              <option value="v0.3.1">v0.3.1</option>
            
          
            
              <option value="v0.3.0">v0.3.0</option>
            
          
            
              <option value="v0.2.6">v0.2.6</option>
            
          
            
              <option value="v0.2.5">v0.2.5</option>
            
          
            
              <option value="v0.2.4">v0.2.4</option>
            
          
            
              <option value="v0.2.3">v0.2.3</option>
            
          
            
              <option value="v0.2.2">v0.2.2</option>
            
          
            
              <option value="v0.2.1">v0.2.1</option>
            
          
            
              <option value="v0.2.0">v0.2.0</option>
            
          
            
              <option value="v0.1.0">v0.1.0</option>
            
          
        </select>
        <nav>
          
            <a href="marionette.application.html">marionette.application</a>
          
            <a href="marionette.application.module.html">marionette.application.module</a>
          
            <a href="marionette.approuter.html">marionette.approuter</a>
          
            <a href="marionette.behavior.html">marionette.behavior</a>
          
            <a href="marionette.behaviors.html">marionette.behaviors</a>
          
            <a href="marionette.callbacks.html">marionette.callbacks</a>
          
            <a href="marionette.collectionview.html">marionette.collectionview</a>
          
            <a href="marionette.compositeview.html">marionette.compositeview</a>
          
            <a href="marionette.configuration.html">marionette.configuration</a>
          
            <a href="marionette.controller.html">marionette.controller</a>
          
            <a href="marionette.functions.html">marionette.functions</a>
          
            <a href="marionette.itemview.html">marionette.itemview</a>
          
            <a href="marionette.layout.html">marionette.layout</a>
          
            <a href="marionette.region.html">marionette.region</a>
          
            <a href="marionette.regionmanager.html">marionette.regionmanager</a>
          
            <a href="marionette.renderer.html">marionette.renderer</a>
          
            <a href="marionette.templatecache.html">marionette.templatecache</a>
          
            <a href="marionette.view.html">marionette.view</a>
          
        </nav>
      </div>
      <div class="docs__content">
        <h1>Marionette.Behavior</h1>
<p>A <code>Behavior</code> is an  isolated set of DOM / user interactions interactions  that can be mixed into any <code>View</code>. <code>Behaviors</code> allow you to blackbox <code>View</code> specific interactions into portable logical chunks, keeping your <code>views</code> simple and your code DRY.</p><h2>Documentation Index</h2>
<ul>
<li><a href="#the-motivation">Motivation</a></li>
<li><a href="#using">Using Behaviors</a></li>
<li><a href="#api">API</a><ul>
<li><a href="#the-event-proxy">Event proxy</a></li>
<li><a href="#$">$</a></li>
<li><a href="#$el">$el</a></li>
<li><a href="#defaults">Defaults</a></li>
<li><a href="#view">View</a></li>
</ul>
</li>
</ul>
<h2>The Motivation</h2>
<p>As you build more and more complex views you will find that your <code>view</code> becomes less about displaying model data, and more about interactions.</p><p>These interactions tend to be chunks of logic that you want to use in multiple views.</p><h2>Using</h2>
<p>Here is an example of a simple <code>itemView</code>. Let&#39;s take a stab at simplifying it, and abstracting behaviors from it.</p><pre><code class="lang-js"><span class="hljs-keyword">var</span> MyView = Marionette.ItemView.extend({
    ui: {
        <span class="hljs-string">"close"</span>: <span class="hljs-string">".close-btn"</span>
    },

    events: {
        <span class="hljs-string">"click @ui.close"</span>: <span class="hljs-string">"warnBeforeClose"</span>
    },

    warnBeforeClose: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
        alert(<span class="hljs-string">"you are closing all your data is now gone!"</span>);
        <span class="hljs-keyword">this</span>.close();
    },

    onShow: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
       <span class="hljs-keyword">this</span>.$(<span class="hljs-string">'.tooltip'</span>).tooltip({
         text: <span class="hljs-string">"what a nice mouse you have"</span>
       });
    }
});
</code></pre>
<p>Interaction points such as tooltips and warning messages are generic concepts. There is no need to recode them within your views. They are prime for abstraction into a higher level non-coupled concept, which is exactly what Behaviors provide you with.</p><p>Here is the syntax for declaring which behaviors get used within a view.<br />The keys in the hash are passed to <code>getBehaviorClass</code> to lookup the correct <code>Behavior</code> class.<br />The options for each behavior are also passed to said Behavior during initialization. The options are then stored within each behavior under <code>options</code>.</p><pre><code class="lang-js"><span class="hljs-keyword">var</span> MyView = Marionette.ItemView.extend({
    behaviors: {
        CloseWarn: {
            message: <span class="hljs-string">"you are closing all your data is now gone!"</span>
        },
        ToolTip: {
            text: <span class="hljs-string">"what a nice mouse you have"</span>
        }
    }
});
</code></pre>
<p>Now let&#39;s create the <code>CloseWarn</code> behavior.</p><pre><code class="lang-js"><span class="hljs-keyword">var</span> CloseWarn = Marionette.Behavior.extend({
    <span class="hljs-comment">// you can set default options</span>
    <span class="hljs-comment">// just like you can in your Backbone Models</span>
    <span class="hljs-comment">// they will be overriden if you pass in an option with the same key</span>
    defaults: {
        <span class="hljs-string">"message"</span>: <span class="hljs-string">"you are closing!"</span>
    },

    <span class="hljs-comment">// behaviors have events that are bound to the views DOM</span>
    events: {
        <span class="hljs-string">"click .close"</span>: <span class="hljs-string">"warnBeforeClose"</span>
    },

    warnBeforeClose: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
        alert(<span class="hljs-keyword">this</span>.options.message);
          <span class="hljs-comment">// every Behavior has a hook into the</span>
          <span class="hljs-comment">// view that it is attached to</span>
          <span class="hljs-keyword">this</span>.view.close();
    }
});
</code></pre>
<p>And onto the <code>Tooltip</code> behavior.</p><pre><code class="lang-js"><span class="hljs-keyword">var</span> ToolTip = Marionette.Behavior.extend({
    onShow: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-comment">// this.$ is another example of something</span>
        <span class="hljs-comment">// that is exposed to each behavior instance</span>
          <span class="hljs-comment">// of the view</span>
          <span class="hljs-keyword">this</span>.$(<span class="hljs-string">'.tooltip'</span>).tooltip({
             text: <span class="hljs-keyword">this</span>.options.text
          });
    }
});
</code></pre>
<p>There is one final piece to finalizing this. The user must define a location for where their <code>behaviors</code> are stored.<br />A simple example of this would look like this:</p><pre><code class="lang-js">  Marionette.Behaviors.behaviorsLookup = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
      <span class="hljs-keyword">return</span> <span class="hljs-built_in">window</span>.Behaviors;
  }
</code></pre>
<p>In this example you would then store your behaviors like this:</p><pre><code class="lang-js"><span class="hljs-built_in">window</span>.Behaviors.ToolTip = ToolTip;
<span class="hljs-built_in">window</span>.Behaviors.CloseWarn = CloseWarn;
</code></pre>
<h2>API</h2>
<h3>the event proxy</h3>
<p>Behaviors are powered by an event proxy. What this means is that any events that are triggered by the view&#39;s <code>triggerMethod</code> function are passed to each Behavior on the view as well.</p><p>As a real world example, whenever in your <code>view</code> you would have <code>onShow</code>, your behavior can also have this <code>onShow</code> method defined. The same follows for <code>modelEvents</code> and <code>collectionEvents</code>. Think of your behavior as a receiver for all of the events on your view instance.</p><p>This concept also allows for a nice decoupled method to communicate to behaviors from your view instance.<br />You can just call from within your view <code>this.triggerMethod(&quot;SomeEvent&quot;, {some: &quot;data&quot;})</code>. then your <code>behavior</code> class would look like this:</p><pre><code class="lang-js">Marionette.Behavior.extend({
    onSomeEvent: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(data)</span> </span>{
        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"wow such data"</span>, data);
    }
});
</code></pre>
<h3>$</h3>
<p><code>$</code> is a direct proxy of the views <code>$</code> lookup method.</p><pre><code class="lang-js">    Marionette.Behavior.extend({
        onShow: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
            <span class="hljs-keyword">this</span>.$(<span class="hljs-string">'.zerg'</span>)
        }
    });
</code></pre>
<h3>$el</h3>
<p><code>$el</code> is a direct proxy of the views <code>el</code> cached as a jquery selector.</p><pre><code class="lang-js">Marionette.Behavior.extend({
    onShow: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">this</span>.$el.fadeOut(<span class="hljs-string">'slow'</span>)
    }
});
</code></pre>
<h3>defaults</h3>
<p><code>defaults</code> can be a <code>hash</code> or <code>function</code> to define the default options for your behavior.<br />The default options will be overridden depending on what you set as the options per behavior (this works just like a <code>backbone.model</code>).</p><pre><code class="lang-js">Marionette.Behavior.extend({
    defaults: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> {
            <span class="hljs-string">'deepSpace'</span>: <span class="hljs-number">9</span>
        }
    }
});
</code></pre>
<pre><code class="lang-js">Marionette.Behavior.extend({
    defaults: {
            <span class="hljs-string">'dominion'</span>: <span class="hljs-string">'invasion'</span>,
            <span class="hljs-string">'doge'</span>: <span class="hljs-string">'amaze'</span>
        }
    }
});
</code></pre>
<h3>view</h3>
<p>The <code>view</code> is a reference to the view instance that the <code>behavior</code> is on.</p><pre><code class="lang-js">Marionette.Behavior.extend({
    onShow: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">this</span>.view.close();
    }
});
</code></pre>

      </div>
    </div>
  </body>
  <script src="../../js/docs.js" type="text/javascript"></script>
</html>

<html>
  <head>
    <title>marionette.itemview - Marionette.js Docs</title>
    <link rel="stylesheet" href="../../styles/docs.css">
  </head>
  <body>
    <div class="docs">
      <div class="docs__sidebar">
        <select id="version-dropdown">
          
            
              <option value="v2.3.0">v2.3.0</option>
            
          
            
              <option value="v2.3.0-pre">v2.3.0-pre</option>
            
          
            
              <option value="v2.2.2">v2.2.2</option>
            
          
            
              <option value="v2.2.1">v2.2.1</option>
            
          
            
              <option value="v2.2.0">v2.2.0</option>
            
          
            
              <option value="v2.2.0-pre.2">v2.2.0-pre.2</option>
            
          
            
              <option value="v2.2.0-pre">v2.2.0-pre</option>
            
          
            
              <option value="v2.1.0">v2.1.0</option>
            
          
            
              <option value="v2.1.0-pre">v2.1.0-pre</option>
            
          
            
              <option value="v2.0.3">v2.0.3</option>
            
          
            
              <option value="v2.0.2">v2.0.2</option>
            
          
            
              <option value="v2.0.1">v2.0.1</option>
            
          
            
              <option value="v2.0.0">v2.0.0</option>
            
          
            
              <option value="v2.0.0-pre.2">v2.0.0-pre.2</option>
            
          
            
              <option value="v2.0.0-pre.1">v2.0.0-pre.1</option>
            
          
            
              <option value="v1.8.8">v1.8.8</option>
            
          
            
              <option value="v1.8.7">v1.8.7</option>
            
          
            
              <option value="v1.8.6">v1.8.6</option>
            
          
            
              <option value="v1.8.5" selected="selected">v1.8.5</option>
            
          
            
              <option value="v1.8.4">v1.8.4</option>
            
          
            
              <option value="v1.8.3">v1.8.3</option>
            
          
            
              <option value="v1.8.2">v1.8.2</option>
            
          
            
              <option value="v1.8.1">v1.8.1</option>
            
          
            
              <option value="v1.8.0">v1.8.0</option>
            
          
            
              <option value="v1.7.4">v1.7.4</option>
            
          
            
              <option value="v1.7.3">v1.7.3</option>
            
          
            
              <option value="v1.7.2">v1.7.2</option>
            
          
            
              <option value="v1.7.1">v1.7.1</option>
            
          
            
              <option value="v1.7">v1.7</option>
            
          
            
              <option value="v1.6.4">v1.6.4</option>
            
          
            
              <option value="v1.6.3">v1.6.3</option>
            
          
            
              <option value="v1.6.2">v1.6.2</option>
            
          
            
              <option value="v1.6.1">v1.6.1</option>
            
          
            
              <option value="v1.6.0">v1.6.0</option>
            
          
            
              <option value="v1.5.1">v1.5.1</option>
            
          
            
              <option value="v1.5.0">v1.5.0</option>
            
          
            
              <option value="v1.4.1">v1.4.1</option>
            
          
            
              <option value="v1.4.0">v1.4.0</option>
            
          
            
              <option value="v1.4.0beta">v1.4.0beta</option>
            
          
            
              <option value="v1.3.0">v1.3.0</option>
            
          
            
              <option value="v1.2.3">v1.2.3</option>
            
          
            
              <option value="v1.2.2">v1.2.2</option>
            
          
            
              <option value="v1.2.1">v1.2.1</option>
            
          
            
              <option value="v1.2.0">v1.2.0</option>
            
          
            
              <option value="v1.1.0">v1.1.0</option>
            
          
            
              <option value="v1.0.4">v1.0.4</option>
            
          
            
              <option value="v1.0.3">v1.0.3</option>
            
          
            
              <option value="v1.0.2">v1.0.2</option>
            
          
            
              <option value="v1.0.1">v1.0.1</option>
            
          
            
              <option value="v1.0.0">v1.0.0</option>
            
          
            
              <option value="v1.0.0-rc6">v1.0.0-rc6</option>
            
          
            
              <option value="v1.0.0-rc5">v1.0.0-rc5</option>
            
          
            
              <option value="v1.0.0-rc4">v1.0.0-rc4</option>
            
          
            
              <option value="v1.0.0-rc3">v1.0.0-rc3</option>
            
          
            
              <option value="v1.0.0-rc2">v1.0.0-rc2</option>
            
          
            
              <option value="v1.0.0-rc1">v1.0.0-rc1</option>
            
          
            
              <option value="v1.0.0-beta6">v1.0.0-beta6</option>
            
          
            
              <option value="v1.0.0-beta5">v1.0.0-beta5</option>
            
          
            
              <option value="v1.0.0-beta4">v1.0.0-beta4</option>
            
          
            
              <option value="v1.0.0-beta3">v1.0.0-beta3</option>
            
          
            
              <option value="v1.0.0-beta2">v1.0.0-beta2</option>
            
          
            
              <option value="v1.0.0-beta1">v1.0.0-beta1</option>
            
          
            
              <option value="v0.10.2">v0.10.2</option>
            
          
            
              <option value="v0.10.1">v0.10.1</option>
            
          
            
              <option value="v0.10.0">v0.10.0</option>
            
          
            
              <option value="v0.9.13">v0.9.13</option>
            
          
            
              <option value="v0.9.12">v0.9.12</option>
            
          
            
              <option value="v0.9.11">v0.9.11</option>
            
          
            
              <option value="v0.9.10">v0.9.10</option>
            
          
            
              <option value="v0.9.9">v0.9.9</option>
            
          
            
              <option value="v0.9.8">v0.9.8</option>
            
          
            
              <option value="v0.9.7">v0.9.7</option>
            
          
            
              <option value="v0.9.6">v0.9.6</option>
            
          
            
              <option value="v0.9.5">v0.9.5</option>
            
          
            
              <option value="v0.9.4">v0.9.4</option>
            
          
            
              <option value="v0.9.3">v0.9.3</option>
            
          
            
              <option value="v0.9.2">v0.9.2</option>
            
          
            
              <option value="v0.9.1">v0.9.1</option>
            
          
            
              <option value="v0.9.0">v0.9.0</option>
            
          
            
              <option value="v0.8.4">v0.8.4</option>
            
          
            
              <option value="v0.8.3">v0.8.3</option>
            
          
            
              <option value="v0.8.2">v0.8.2</option>
            
          
            
              <option value="v0.8.1">v0.8.1</option>
            
          
            
              <option value="v0.8.0">v0.8.0</option>
            
          
            
              <option value="v0.7.6">v0.7.6</option>
            
          
            
              <option value="v0.7.5">v0.7.5</option>
            
          
            
              <option value="v0.7.4">v0.7.4</option>
            
          
            
              <option value="v0.7.3">v0.7.3</option>
            
          
            
              <option value="v0.7.2">v0.7.2</option>
            
          
            
              <option value="v0.7.1">v0.7.1</option>
            
          
            
              <option value="v0.7.0">v0.7.0</option>
            
          
            
              <option value="v0.6.3">v0.6.3</option>
            
          
            
              <option value="v0.6.2">v0.6.2</option>
            
          
            
              <option value="v0.6.1">v0.6.1</option>
            
          
            
              <option value="v0.6.0">v0.6.0</option>
            
          
            
              <option value="v0.5.2">v0.5.2</option>
            
          
            
              <option value="v0.5.1">v0.5.1</option>
            
          
            
              <option value="v0.5.0">v0.5.0</option>
            
          
            
              <option value="v0.4.8">v0.4.8</option>
            
          
            
              <option value="v0.4.7">v0.4.7</option>
            
          
            
              <option value="v0.4.6">v0.4.6</option>
            
          
            
              <option value="v0.4.5">v0.4.5</option>
            
          
            
              <option value="v0.4.4">v0.4.4</option>
            
          
            
              <option value="v0.4.3">v0.4.3</option>
            
          
            
              <option value="v0.4.2">v0.4.2</option>
            
          
            
              <option value="v0.4.1">v0.4.1</option>
            
          
            
              <option value="v0.4.1a">v0.4.1a</option>
            
          
            
              <option value="v0.4.0">v0.4.0</option>
            
          
            
              <option value="v0.3.1">v0.3.1</option>
            
          
            
              <option value="v0.3.0">v0.3.0</option>
            
          
            
              <option value="v0.2.6">v0.2.6</option>
            
          
            
              <option value="v0.2.5">v0.2.5</option>
            
          
            
              <option value="v0.2.4">v0.2.4</option>
            
          
            
              <option value="v0.2.3">v0.2.3</option>
            
          
            
              <option value="v0.2.2">v0.2.2</option>
            
          
            
              <option value="v0.2.1">v0.2.1</option>
            
          
            
              <option value="v0.2.0">v0.2.0</option>
            
          
            
              <option value="v0.1.0">v0.1.0</option>
            
          
        </select>
        <nav>
          
            <a href="marionette.application.html">marionette.application</a>
          
            <a href="marionette.application.module.html">marionette.application.module</a>
          
            <a href="marionette.approuter.html">marionette.approuter</a>
          
            <a href="marionette.behavior.html">marionette.behavior</a>
          
            <a href="marionette.behaviors.html">marionette.behaviors</a>
          
            <a href="marionette.callbacks.html">marionette.callbacks</a>
          
            <a href="marionette.collectionview.html">marionette.collectionview</a>
          
            <a href="marionette.compositeview.html">marionette.compositeview</a>
          
            <a href="marionette.configuration.html">marionette.configuration</a>
          
            <a href="marionette.controller.html">marionette.controller</a>
          
            <a href="marionette.functions.html">marionette.functions</a>
          
            <a href="marionette.itemview.html">marionette.itemview</a>
          
            <a href="marionette.layout.html">marionette.layout</a>
          
            <a href="marionette.region.html">marionette.region</a>
          
            <a href="marionette.regionmanager.html">marionette.regionmanager</a>
          
            <a href="marionette.renderer.html">marionette.renderer</a>
          
            <a href="marionette.templatecache.html">marionette.templatecache</a>
          
            <a href="marionette.view.html">marionette.view</a>
          
        </nav>
      </div>
      <div class="docs__content">
        <h1>Marionette.ItemView</h1>
<p>An <code>ItemView</code> is a view that represents a single item. That item may be a<br /><code>Backbone.Model</code> or may be a <code>Backbone.Collection</code>. Whichever it is though, it<br />will be treated as a single item.</p><p>ItemView extends directly from Marionette.View. Please see<br /><a href="marionette.view.md">the Marionette.View documentation</a><br />for more information on available features and functionality.</p><p>Additionally, interactions with Marionette.Region<br />will provide features such as <code>onShow</code> callbacks, etc. Please see<br /><a href="marionette.region.md">the Region documentation</a> for more information.</p><h2>Documentation Index</h2>
<ul>
<li><a href="#itemview-render">ItemView render</a></li>
<li><a href="#rendering-a-collection-in-an-itemview">Rendering A Collection In An ItemView</a></li>
<li><a href="#events-and-callback-methods">Events and Callback Methods</a><ul>
<li><a href="#beforerender--onbeforerender-event">&quot;before:render&quot; / onBeforeRender event</a></li>
<li><a href="#render--onrender-event">&quot;render&quot; / onRender event</a></li>
<li><a href="#beforeclose--onbeforeclose-event">&quot;before:close&quot; / onBeforeClose event</a></li>
<li><a href="#close--onclose-event">&quot;close&quot; / onClose event</a></li>
</ul>
</li>
<li><a href="#itemview-serializedata">ItemView serializeData</a></li>
<li><a href="#organizing-ui-elements">Organizing ui elements</a></li>
<li><a href="#modelevents-and-collectionevents">modelEvents and collectionEvents</a></li>
</ul>
<h2>ItemView render</h2>
<p>An item view has a <code>render</code> method built in to it, and uses the<br /><code>Renderer</code> object to do the actual rendering.</p><p>You should provide a <code>template</code> attribute on the item view, which<br />will be either a jQuery selector:</p><pre><code class="lang-js">MyView = Backbone.Marionette.ItemView.extend({
  template: <span class="hljs-string">"#some-template"</span>
});

<span class="hljs-keyword">new</span> MyView().render();
</code></pre>
<p>.. or a function taking a single argument: the object returned by <a href="#itemview-serializedata">ItemView.serializeData</a>:</p><pre><code class="lang-js">my_template_html = <span class="hljs-string">'&lt;div&gt;&lt;%= args.name %&gt;&lt;/div&gt;'</span>
MyView = Backbone.Marionette.ItemView.extend({
  template : <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(serialized_model)</span> </span>{
    <span class="hljs-keyword">var</span> name = serialized_model.name;
    <span class="hljs-keyword">return</span> _.template(my_template_html, {
        name : name,
        some_custom_attribute : some_custom_key
    }, {variable: <span class="hljs-string">'args'</span>});
  }
});

<span class="hljs-keyword">new</span> MyView().render();
</code></pre>
<p>Note that using a template function allows passing custom arguments into the _.template function,<br />including a third &quot;settings&quot; argument, as used in the example above.</p><p>According to the <a href="http://underscorejs.org/#template">Underscore docs</a>, using the &quot;variable&quot; setting<br />&quot;can significantly improve the speed at which a template is able to render.&quot; Using this setting<br />also requires you to read data arguments from an object, as demonstrated in the example above.</p><h2>Rendering A Collection In An ItemView</h2>
<p>While the most common way to render a Backbone.Collection is to use<br />a <code>CollectionView</code> or <code>CompositeView</code>, if you just need to render a<br />simple list that does not need a lot of interaction, it does not<br />always make sense to use these. A Backbone.Collection can be<br />rendered with a simple ItemView, using the templates to iterate<br />over an <code>items</code> array.</p><pre><code class="lang-js">&lt;script id=<span class="hljs-string">"some-template"</span> type=<span class="hljs-string">"text/html"</span>&gt;
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-title">ul</span>&gt;</span>
    <span class="vbscript">&lt;% _.<span class="hljs-keyword">each</span>(items, <span class="hljs-keyword">function</span>(item){ %&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">li</span>&gt;</span> <span class="vbscript">&lt;%= item.someAttribute %&gt;</span> <span class="hljs-tag">&lt;/<span class="hljs-title">li</span>&gt;</span>
    <span class="vbscript">&lt;% }); %&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-title">ul</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span></span>
</code></pre>
<p>The important thing to note here, is the use of <code>items</code> as the<br />variable to iterate in the <code>_.each</code> call. This will always be the<br />name of the variable that contains your collection&#39;s items.</p><p>Then, from JavaScript, you can define and use an ItemView with this<br />template, like this:</p><pre><code class="lang-js"><span class="hljs-keyword">var</span> MyItemsView = Marionette.ItemView.extend({
  template: <span class="hljs-string">"#some-template"</span>
});

<span class="hljs-keyword">var</span> view = <span class="hljs-keyword">new</span> MyItemsView({
  collection: someCollection
});

<span class="hljs-comment">// show the view via a region or calling the .render method directly</span>
</code></pre>
<p>Rendering this view will convert the <code>someCollection</code> collection in to<br />the <code>items</code> array for your template to use.</p><p>For more information on when you would want to do this, and what options<br />you have for retrieving an individual item that was clicked or<br />otherwise interacted with, see the blog post on<br /><a href="http://lostechies.com/derickbailey/2011/10/11/backbone-js-getting-the-model-for-a-clicked-element/">Getting The Model For A Clicked Element</a>.</p><h2>Events and Callback Methods</h2>
<p>There are several events and callback methods that are called<br />for an ItemView. These events and methods are triggered with the<br /><a href="./marionette.functions.md">Marionette.triggerMethod</a> function, which<br />triggers the event and a corresponding &quot;on{EventName}&quot; method.</p><h3>&quot;before:render&quot; / onBeforeRender event</h3>
<p>Triggered before an ItemView is rendered. Also triggered as<br />&quot;item:before:render&quot; / <code>onItemBeforeRender</code>.</p><pre><code class="lang-js">Backbone.Marionette.ItemView.extend({
  onBeforeRender: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span>{
    <span class="hljs-comment">// set up final bits just before rendering the view's `el`</span>
  }
});
</code></pre>
<h3>&quot;render&quot; / onRender event</h3>
<p>Triggered after the view has been rendered.<br />You can implement this in your view to provide custom code for dealing<br />with the view&#39;s <code>el</code> after it has been rendered.</p><p>Also triggered as &quot;item:rendered&quot; / <code>onItemRender</code>.</p><pre><code class="lang-js">Backbone.Marionette.ItemView.extend({
  onRender: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span>{
    <span class="hljs-comment">// manipulate the `el` here. it's already</span>
    <span class="hljs-comment">// been rendered, and is full of the view's</span>
    <span class="hljs-comment">// HTML, ready to go.</span>
  }
});
</code></pre>
<h3>&quot;before:close&quot; / onBeforeClose event</h3>
<p>Triggered just prior to closing the view, when the view&#39;s <code>close()</code><br />method has been called. Also triggered as &quot;item:before:close&quot; /<br /><code>onItemBeforeClose</code>.</p><pre><code class="lang-js">Backbone.Marionette.ItemView.extend({
  onBeforeClose: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span>{
    <span class="hljs-comment">// manipulate the `el` here. it's already</span>
    <span class="hljs-comment">// been rendered, and is full of the view's</span>
    <span class="hljs-comment">// HTML, ready to go.</span>
  }
});
</code></pre>
<h3>&quot;close&quot; / onClose event</h3>
<p>Triggered just after the view has been closed. Also triggered<br />as &quot;item:closed&quot; / <code>onItemClose</code>.</p><pre><code class="lang-js">Backbone.Marionette.ItemView.extend({
  onClose: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span>{
    <span class="hljs-comment">// custom closing and cleanup goes here</span>
  }
});
</code></pre>
<h2>ItemView serializeData</h2>
<p>Item views will serialize a model or collection, by default, by<br />calling <code>.toJSON</code> on either the model or collection. If both a model<br />and collection are attached to an item view, the model will be used<br />as the data source. The results of the data serialization will be passed to the template<br />that is rendered.</p><p>If the serialization is a model, the results are passed in directly:</p><pre><code class="lang-js"><span class="hljs-keyword">var</span> myModel = <span class="hljs-keyword">new</span> MyModel({foo: <span class="hljs-string">"bar"</span>});

<span class="hljs-keyword">new</span> MyItemView({
  template: <span class="hljs-string">"#myItemTemplate"</span>,
  model: myModel
});

MyItemView.render();
</code></pre>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-title">script</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"myItemTemplate"</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"template"</span>&gt;</span><span class="javascript">
  Foo is: <span class="xml"><span class="vbscript">&lt;%= foo %&gt;</span>
</span></span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span>
</code></pre>
<p>If the serialization is a collection, the results are passed in as an<br /><code>items</code> array:</p><pre><code class="lang-js"><span class="hljs-keyword">var</span> myCollection = <span class="hljs-keyword">new</span> MyCollection([{foo: <span class="hljs-string">"bar"</span>}, {foo: <span class="hljs-string">"baz"</span>}]);

<span class="hljs-keyword">new</span> MyItemView({
  template: <span class="hljs-string">"#myCollectionTemplate"</span>,
  collection: myCollection
});

MyItemView.render();
</code></pre>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-title">script</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"myCollectionTemplate"</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"template"</span>&gt;</span><span class="javascript">
  &lt;% _.each(items, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(item)</span></span>{ %&gt;
    Foo is: <span class="xml"><span class="vbscript">&lt;%= foo %&gt;</span>
  <span class="vbscript">&lt;% }); %&gt;</span>
</span></span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span>
</code></pre>
<p>If you need custom serialization for your data, you can provide a<br /><code>serializeData</code> method on your view. It must return a valid JSON<br />object, as if you had called <code>.toJSON</code> on a model or collection.</p><pre><code class="lang-js">Backbone.Marionette.ItemView.extend({
  serializeData: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span>{
    <span class="hljs-keyword">return</span> {
      <span class="hljs-string">"some attribute"</span>: <span class="hljs-string">"some value"</span>
    }
  }
});
</code></pre>
<h2>Organizing UI Elements</h2>
<p>As documented in <a href="./marionette.view.md">Marionette.View</a>, you can specify a <code>ui</code> hash in your <code>view</code> that<br />maps UI elements by their jQuery selectors. This is especially useful if you access the<br />same UI element more than once in your view&#39;s code. Instead of<br />duplicating the selector, you can simply reference it by<br /><code>this.ui.elementName</code>:</p><p>You can also use the ui hash values from within events and trigger keys using the <code>&quot;@ui.elementName&quot;</code>: syntax</p><pre><code class="lang-js">Backbone.Marionette.ItemView.extend({
  tagName: <span class="hljs-string">"tr"</span>,

  ui: {
    checkbox: <span class="hljs-string">"input[type=checkbox]"</span>
  },

  onRender: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.model.get(<span class="hljs-string">'selected'</span>)) {
      <span class="hljs-keyword">this</span>.ui.checkbox.addClass(<span class="hljs-string">'checked'</span>);
    }
  }
});
</code></pre>
<h2>modelEvents and collectionEvents</h2>
<p>ItemViews can bind directly to model events and collection events<br />in a declarative manner:</p><pre><code class="lang-js">Marionette.ItemView.extend({
  modelEvents: {
    <span class="hljs-string">"change"</span>: <span class="hljs-string">"modelChanged"</span>
  },

  collectionEvents: {
    <span class="hljs-string">"add"</span>: <span class="hljs-string">"modelAdded"</span>
  }
});
</code></pre>
<p>For more information, see the <a href="./marionette.view.md">Marionette.View</a> documentation.</p>
      </div>
    </div>
  </body>
  <script src="../../js/docs.js" type="text/javascript"></script>
</html>
